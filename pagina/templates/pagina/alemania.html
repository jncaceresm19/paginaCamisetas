{% extends 'pagina/base.html' %}
{% load static %}
{% block js %}
<script>
  document.addEventListener("DOMContentLoaded", function() {
      let imgchange4 = document.getElementById("imgChange4");
  
      let localBtn = document.getElementById("local2");
      let visitaBtn = document.getElementById("visita2");
      let alternativaBtn = document.getElementById("alternativa");
  
      let imgLocal = "{% static 'pagina/img/europa/alemania/BAYERLOCAL.jpg' %}";
      let imgVisita = "{% static 'pagina/img/europa/alemania/LEVERKUSENLOCAL.jpg' %}";
      let imgAlternativa = "";
  
      function changeImage(color) {
          if (color === 'local') {
              imgchange4.src = imgLocal;
          } else if (color === 'visita') {
              imgchange4.src = imgVisita;
          } else if (color === 'alternativa') {
              imgchange4.src = imgAlternativa;
          }
      }
  
      localBtn.addEventListener("click", function() {
          changeImage('local');
      });
      visitaBtn.addEventListener("click", function() {
          changeImage('visita');
      });
      alternativaBtn.addEventListener("click", function() {
          changeImage('alternativa');
      });
      
      changeImage('local');
  });
</script>
<script>
  window.onload = function() {
    var urlParams = new URLSearchParams(window.location.search);
    var imageUrl = urlParams.get('imageUrl');

    if (imageUrl) {
      document.getElementById('imgChange4').src = imageUrl;
    }
  };
</script>
<script>
    document.getElementById('local2').addEventListener('click', function() {
    document.getElementById('producto-1').style.display = 'block';
    document.getElementById('producto-2').style.display = 'none';
  });

    document.getElementById('visita2').addEventListener('click', function() {
    document.getElementById('producto-1').style.display = 'none';
    document.getElementById('producto-2').style.display = 'block';
  });
</script>
<script>
  document.getElementById('form-agregar-carrito').addEventListener('submit', function(event) {
      const nombre = document.getElementById('nombres').value;
      const numero = document.getElementById('numero').value;
  });
</script>

{% endblock %}

{% block contenido %} 
{% load humanize %}
 <!--Imagen de logo liga-->
 <header class="d-flex justify-content-center align-items-center">
  <center><img class="imglogo img-fluid"src="{% static 'pagina/img/logobundesliga.png' %}" alt="centered image" height="50%" width="50%"> </center>
</header>
<!--Container bayerns-->
<h3 class="text1">Seleciona Camiseta Bayern Munich/Leverkusen:</h3>
<div class="seleccion-camiseta-E">
  <div id="local2"><H5>Munich</H5></div>
  <div id="visita2"><H5>Leverkusen</H5></div>
</div><br>
  <div class="contenedor">
        <div class="row">
          <div class="col-lg-6">
            <div class="contenedor-img">
              <img src="{% static 'pagina/img/europa/alemania/BAYERLOCAL.jpg' %}" id="imgChange4" alt="" class="img-fluid" />
            </div>
          </div>
        <div class="col-lg-6">
         {% for p in productos_alemania %}
          {% if p.id == 1 %}
          <br><div class="contenedor-info-prod" id="producto-1" style="display: block;">
            <h1>{{p.nombre}}</h1>
            <h5>{{p.descripcion}}</h5>
            <div class="contenedor-precio">
              <span class="precio">${{p.precio | intcomma}}</span>
            </div><br>
            <div class="contenedor-detalles-prod">
              <form action="{% url 'agregar' p.id %}" method="POST">
                {% csrf_token %}
                <div class="form-group">
                    <label for="talla">Tallas</label>
                    <select name="talla" id="talla" class="form-control">
                        {% for talla in p.talla.all %}
                            <option value="{{ talla.id }}">{{ talla.nombre }}</option>
                        {% endfor %}
                    </select>
                </div>
              </form>
            </div>

            <div class="contenedor-detalles-prod-per">
              <h4>Personaliza tu camiseta</h4>
              <form id="form-agregar-carrito" method="POST" action="{% url 'agregar' p.id %}">
                  {% csrf_token %}
                  <section class="regist-name-num">
                      <label for="nombres">Nombre</label>
                      <input class="form-controls" type="text" name="nombre" id="nombres">
                      <p>$5.000 (indique NOMBRE para camiseta)</p> 
                      <label for="numero">Número</label>
                      <input class="form-controls" type="text" name="numero" id="numero">
                      <p>$5.000 (indique NUMERO para camiseta)</p>
                      <div class="contenedor-add-cart">
                        <button type="submit" class="btn btn-add-cart btn-link"><i class="bi-cart-plus"></i></button>
                        <a href="#" class="btn btn-add-cart">Comprar</a>                               
                      </div>
                  </section>          
              </form>
          </div>
        </div>
          
          {% elif p.id == 2 %}
          <div class="contenedor-info-prod" id="producto-2" style="display: none;">
            <h1>{{p.nombre}}</h1>
            <h5>{{p.descripcion}}</h5>
            <div class="contenedor-precio">
              <span class="precio">${{p.precio | intcomma}}</span>
            </div><br>
            <div class="contenedor-detalles-prod">
              <div class="form-group">
                <label for="talla">Tallas</label>
                <select name="size" id="size" class="form-control">
                {% for talla in p.talla.all %}
                  <option value="{{ talla }}">{{ talla.nombre }}</option>
                {% endfor %}
                </select>
              </div>
            </div>

            <div class="contenedor-detalles-prod-per">
              <h4>Personaliza tu camiseta</h4>
              <form id="form-agregar-carrito" method="POST" action="{% url 'agregar' p.id %}">
                  {% csrf_token %}
                  <section class="regist-name-num">
                      <label for="nombres">Nombre</label>
                      <input class="form-controls" type="text" name="nombre" id="nombres">
                      <p>$5.000 (indique NOMBRE para camiseta)</p> 
                      <label for="numero">Número</label>
                      <input class="form-controls" type="text" name="numero" id="numero">
                      <p>$5.000 (indique NUMERO para camiseta)</p>
                      <div class="contenedor-add-cart">
                        <button type="submit" class="btn btn-add-cart btn-link"><i class="bi-cart-plus"></i></button>
                        <a href="#" class="btn btn-add-cart">Comprar</a>                               
                      </div>
                  </section>          
              </form>
          </div>
        </div>
        {% endif %}
        {% endfor %}

      <div class="contenedor-descrip">
          <div class="title-descrip">
            <h4>Descripción</h4>
          </div>
          <div class="text-descrip">
            <p>
              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint
              delectus commodi, mollitia, consequatur ex dolorum maiores beatae
              quidem maxime rem, dolore ullam recusandae repudiandae tempora.
              Unde neque suscipit voluptas facere!, Lorem ipsum dolor, sit amet 
              consectetur adipisicing elit. Sint delectus commodi, mollitia, 
              consequatur ex dolorum maiores beatae uidem maxime rem, dolore
              ullam recusandae repudiandae tempora.Unde neque suscipit voluptas 
              facere!
            </p>
          </div>
      </div>
  
      <div class="contenedor-info-add">
          <div class="title-info-add">
            <h4>Información adicional</h4>
          </div>
          <div class="text-info-add">
            <p>
              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint
              delectus commodi, mollitia, consequatur ex dolorum maiores beatae
              quidem maxime rem, dolore ullam recusandae repudiandae tempora.
              Unde neque suscipit voluptas facere!
            </p>
          </div>
      </div>
      <div class="contenedor-social">
          <h4>Compartir</h4>
          <div class="contenedor-btn-social">
            <i class="bi bi-instagram"></i>
            <i class="bi bi-facebook"></i>
            <i class="bi bi-twitter"></i>                      
          </div>
      </div>
      </div>   
      </div>
      </div>   
  </div> 

<!--sección interes camisetas-->
<div class="container">
  <h3 class="text-center">Tambien te recomendamos</h3><br>
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    {% for p in productos_interes %}
    <div class="col-md-4">
      <div class="card">
        {% if p.imagen %}
        <img src="{{ p.imagen.url }}" class="card-img img-fluid" alt="...">
        {% endif %}
        <div class="card-body">
          <h4 class="card-title fw-bold">{{p.nombre}}</h4>
          <h5 class="card-title fw-bold">$ {{p.precio | intcomma}}</h5>
          <div class="rating">
            <i class="bi bi-star star"></i>
            <i class="bi bi-star star"></i>
            <i class="bi bi-star star"></i>
            <i class="bi bi-star star"></i>
            <i class="bi bi-star star"></i>
          </div>
          <p class="card-text">{{p.descripcion}}</p>
        </div>
        <div class="d-flex justify-content-around mb-4">
          <a href="#" class="btn btn-primary ">Ver mas</a>
        </div>
      </div>
    </div>
    {% endfor %}
</div>
</div><br><br>

{% endblock %}